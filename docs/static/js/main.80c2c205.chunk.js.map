{"version":3,"sources":["svg/1.svg","svg/2.svg","reversi/Layout.js","reversi/Stone.js","reversi/lib/lib.js","reversi/Cell.js","reversi/SkipMessage.js","reversi/EndMessage.js","reversi/CountBox.js","reversi/MyButton.js","reversi/index.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","Layout","props","size","borderSize","style_box1","css","backgroundColor","borderStyle","borderWidth","borderColor","display","width","height","position","children","Stone","pic","stone","pic1","pic2","style","src","alt","directionMap","x","y","changeMapFunc","displayMap","data","index","findIndex","e","returnMap","JSON","parse","stringify","reversFunc","myturn","val","changeDatas","dir","strs","getLineStrs","datas","getChangeDatas","match","concat","slice","arr","cd","Cell","style_cell","next","verticalAlign","fontSize","onClick","console","log","setDisplayMap","setMyturn","SkipMessage","anime","keyframes","transform","opacity","visibility","tmp_style","animation","zIndex","top","left","textAlign","borderRadius","txt_style","EndMessage","txt","count","P","E","CountBox","side","box","padding","margin","color","name","userTxt","MyButton","setFunc","func","n","str","push","Reversi","initRef","useRef","cellSize","cellMap","result","i","Math","floor","touch","cellMapFunc","useState","skipFlag","setSkipFlag","setCount","end","setEnd","restart","setRestart","useEffect","nextMap","tmpMap","trues","flag","getAddNextMap","filter","length","getCount","actData","newMap","Cells","entries","item","key","container","countBoxContainer","App","Boolean","window","location","hostname","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.80c2c205.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/1.39e885cb.svg\";","module.exports = __webpack_public_path__ + \"static/media/2.c6fdaaeb.svg\";","import React from \"react\"\nimport { css } from \"glamor\"\n\n\n\n\nconst Layout = props => {\n  const size = props.size\n  const borderSize = props.borderSize\n  const style_box1 = css({\n    backgroundColor: \"black\",\n    borderStyle: \"solid\",\n    borderWidth: borderSize,\n    borderColor: \"black\",\n    display: \"inline-block\",\n    width: size,\n    height: size,\n    position: \"relative\",\n  })\n\n  return (\n    <div {...style_box1}>\n      {props.children}\n    </div>\n  )\n}\n\nexport default Layout","import React from \"react\"\n\nimport pic1 from \"../svg/1.svg\"\nimport pic2 from \"../svg/2.svg\"\n// import pic1 from \"../svg/1.svg\"\n// import pic2 from \"../svg/ninja.svg\"\n\nconst Stone = props => {\n  // console.log(\"render-stone\")\n  const size = props.size\n  const pic = props.stone === 0 ? pic1 : pic2\n  if (props.stone === -1) return null\n  // console.log(\"change!!!!!\")\n  return (\n    <img style={{ display: \"inline-block\" }} src={pic} alt=\"stone\" width={size} height={size} />\n  )\n}\n\nexport default Stone","export const directionMap = [\n  { x: 0, y: -1 }, //上\n  { x: 1, y: -1 }, //右上\n  { x: 1, y: 0 }, //右\n  { x: 1, y: 1 }, //右下\n  { x: 0, y: 1 }, //下\n  { x: -1, y: 1 }, //左下\n  { x: -1, y: 0 }, //左\n  { x: -1, y: -1 }, //左上\n]\n\nexport const CN = 8","import React from \"react\"\nimport { css } from \"glamor\"\n\n\nimport Stone from \"./Stone\"\nimport { directionMap } from \"./lib/lib\"\nimport { getLineStrs, getChangeDatas } from \"./index\"\n\nexport const changeMapFunc = (displayMap, data, stone) => {\n  const index = displayMap.findIndex(e => e.x === data.x && e.y === data.y)\n  let returnMap = JSON.parse(JSON.stringify(displayMap))\n  returnMap[index].stone = stone\n  return returnMap\n}\n\nexport const reversFunc = (myturn, directionMap, displayMap, data) => {\n  const val = myturn ? 0 : 1\n  let changeDatas = []\n  for (const dir of directionMap) {\n    const strs = getLineStrs(dir, data, displayMap)\n    const datas = getChangeDatas(dir, data, displayMap)\n    let flag = myturn ? strs.match(/^BE+P/) : strs.match(/^BP+E/)\n    if (flag) {\n      const index = datas.findIndex(e => e.stone === val)\n      changeDatas = changeDatas.concat(datas.slice(0, index))\n    }\n  }\n  let arr = JSON.parse(JSON.stringify(displayMap))\n  for (const cd of changeDatas) {\n    arr = changeMapFunc(arr, cd, val)\n  }\n  return arr\n}\n\nconst Cell = props => {\n  // console.log(\"render-cell\")\n  const displayMap = props.displayMap\n  const data = props.data\n  const myturn = props.myturn\n  const size = props.size\n  const borderSize = props.borderSize\n  const style_cell = css({\n    backgroundColor: data.next ? \"red\" : \"green\",\n    borderStyle: \"solid\",\n    borderWidth: borderSize,\n    borderColor: \"black\",\n    display: \"inline-block\",\n    width: size,\n    height: size,\n    verticalAlign: \"bottom\",\n    fontSize: 0\n  })\n\n\n  const clickFunc = () => {\n    console.log(\"click\")\n    if (!data.next) return\n    const arr = reversFunc(myturn, directionMap, displayMap, data)\n    props.setDisplayMap(arr)\n    props.setMyturn(!myturn)\n  }\n\n  return (\n    <>\n      <div {...style_cell} onClick={clickFunc}>\n        <Stone size={size} stone={props.data.stone} />\n      </div>\n    </>\n  )\n}\n\nexport default Cell","import React from \"react\"\nimport { css } from \"glamor\"\n\nconst SkipMessage = () => {\n  console.log(\"render SkipMessage\")\n\n  const anime = css.keyframes({\n    '0%': { transform: 'scale(0.1)', opacity: 0, visibility: \"visible\" },\n    '20%': { transform: 'scale(1.2)', opacity: 1, visibility: \"visible\" },\n    '40%': { transform: 'scale(1)', opacity: 1, visibility: \"visible\" },\n    '90%': { transform: 'scale(1)', opacity: 1, visibility: \"visible\" },\n    '100%': { transform: 'scale(0.1)', opacity: 0, visibility: \"visible\" },\n  })\n\n  const tmp_style = css({\n    animation: `${anime} 2s`,\n    height: \"20%\",\n    width: \"60%\",\n    backgroundColor: \"rgb(128,128,128,0.9)\",\n    position: \"absolute\",\n    zIndex: 10,\n    top: \"40%\",\n    left: \"20%\",\n    textAlign: \"center\",\n    borderRadius: \"5% / 15%\",\n    visibility: \"hidden\"\n  })\n  const txt_style = css({\n    fontSize: \"10vh\",\n    opacity: 1,\n    display: \"block\",\n  })\n\n  return (\n    <div {...tmp_style}>\n      <span {...txt_style}>SKIP</span>\n    </div>\n  )\n}\n\nexport default SkipMessage","import React from \"react\"\nimport { css } from \"glamor\"\n\nconst EndMessage = props => {\n  console.log(\"render EndMessage\")\n  const count = props.count\n\n  const anime = css.keyframes({\n    '0%': { transform: 'scale(0.1)', opacity: 0, visibility: \"visible\" },\n    '20%': { transform: 'scale(1.2)', opacity: 1, visibility: \"visible\" },\n    '40%': { transform: 'scale(1)', opacity: 1, visibility: \"visible\" },\n    '100%': { transform: 'scale(1)', opacity: 1, visibility: \"visible\" },\n  })\n\n  const tmp_style = css({\n    animation: `${anime} 2s`,\n    height: \"20%\",\n    width: \"60%\",\n    backgroundColor: \"rgb(128,128,128,0.9)\",\n    position: \"absolute\",\n    zIndex: 10,\n    top: \"40%\",\n    left: \"20%\",\n    textAlign: \"center\",\n    borderRadius: \"5% / 15%\",\n  })\n  const txt_style = css({\n    fontSize: \"10vh\",\n    opacity: 1,\n    display: \"block\",\n  })\n\n  let txt\n  if (count.P === count.E) {\n    txt = \"DRAW\"\n  } else if (count.P > count.E) {\n    txt = \"WIN\"\n  } else if (count.P < count.E) {\n    txt = \"LOSE\"\n  }\n\n  return (\n    <div {...tmp_style}>\n      <span {...txt_style}>{txt}</span>\n    </div>\n  )\n}\n\nexport default EndMessage","import React from \"react\"\nimport { css } from \"glamor\"\n\n\nconst CountBox = props => {\n  const side = props.side\n  const count = props.count\n  const borderSize = props.borderSize * 2\n\n  const box = css({\n    backgroundColor: side === \"P\" ? \"rgb(32,178,170,0.8)\" : \"rgb(255,165,0,0.8)\",\n    fontSize: \"5vh\",\n    padding: \"5%\",\n    margin: \"5%\",\n    width: \"20%\",\n    display: \"inline-block\",\n    borderRadius: 10,\n    color: \"white\",\n    position: \"relative\",\n    borderStyle: \"solid\",\n    borderColor: \"black\",\n    borderWidth: borderSize,\n    verticalAlign: \"bottom\",\n  })\n\n  const name = css({\n    position: \"absolute\",\n    top: \"-30%\",\n    left: \"-15%\",\n    padding: \"5%\",\n    borderRadius: 10,\n    backgroundColor: \"black\",\n    fontSize: \"3vh\",\n    borderStyle: \"solid\",\n    borderColor: \"black\",\n    borderWidth: borderSize\n  })\n  const userTxt = side === \"P\" ? \"YOU\" : \"COVID-19\"\n\n\n  return (\n    <div {...box}>\n      <div {...name}>{userTxt}</div>\n      <span>{count}</span>\n    </div>\n  )\n}\n\nexport default CountBox","import React from \"react\"\nimport { css } from \"glamor\"\n\nconst MyButton = props => {\n  const setFunc = props.func\n  const val = props.val\n  const borderSize = props.borderSize * 2\n  const style = css({\n    display: \"inline-block\",\n    backgroundColor: \"rgb(255,215,0)\",\n    padding: \"5%\",\n    margin: \"5%\",\n    fontSize: \"5vh\",\n    borderRadius: 10,\n    borderStyle: \"solid\",\n    borderWidth: borderSize\n  })\n\n  const clickFunc = () => {\n    console.log(\"button click!\")\n    setFunc(val + 1)\n  }\n\n  return (\n    <div {...style} onClick={clickFunc}>RESTART</div>\n  )\n}\n\nexport default MyButton","import React, { useState, useEffect, useRef } from \"react\"\nimport { css } from \"glamor\"\n\nimport Layout from \"./Layout\"\nimport Cell, { reversFunc } from \"./Cell\"\nimport SkipMessage from \"./SkipMessage\"\nimport EndMessage from \"./EndMessage\"\nimport CountBox from \"./CountBox\"\nimport MyButton from \"./MyButton\"\nimport { directionMap, CN } from \"./lib/lib\"\n\nconst cellMapFunc = width => {\n  const n = width ** 2\n  let result = []\n  for (let i = 0; i < n; i++) {\n    const x = i % width\n    const y = Math.floor(i / width)\n    let data = { x, y, stone: -1, next: false }\n    if ((x === 3 && y === 3) || (x === 4 && y === 4)) {\n      data.stone = 0\n      data.touch = true\n    } else if ((x === 4 && y === 3) || (x === 3 && y === 4)) {\n      data.stone = 1\n      data.touch = true\n    }\n    result.push(data)\n  }\n  return result\n}\n\n\nexport const getLineStrs = (dir, data, displayMap) => {\n  let x = data.x\n  let y = data.y\n  let strs = \"\"\n  while (true) {\n    let n = x + (y * 8)\n    let str\n    if (displayMap[n].stone === -1) str = \"B\"\n    if (displayMap[n].stone === 0) str = \"P\"\n    if (displayMap[n].stone === 1) str = \"E\"\n    strs += str\n    x += dir.x\n    y += dir.y\n    if (x < 0 || x > 7 || y < 0 || y > 7) break\n  }\n  return strs\n}\n\nexport const getChangeDatas = (dir, data, displayMap) => {\n  let x = data.x\n  let y = data.y\n  let datas = []\n  while (true) {\n    let n = x + (y * 8)\n    datas.push(displayMap[n])\n    x += dir.x\n    y += dir.y\n    if (x < 0 || x > 7 || y < 0 || y > 7) break\n  }\n  return datas\n}\n\nconst getAddNextMap = (displayMap, myturn) => {\n  let tmpMap = JSON.parse(JSON.stringify(displayMap))\n  let trues = []\n  for (const data of tmpMap) {\n    let flag = false\n    for (const dir of directionMap) {\n      const strs = getLineStrs(dir, data, displayMap)\n      const next = myturn ? strs.match(/^BE+P/) : strs.match(/^BP+E/)\n      if (next) {\n        flag = true\n        trues.push(flag)\n      }\n    }\n    data.next = flag\n  }\n  return tmpMap\n}\n\n\nconst getCount = displayMap => {\n  const P = displayMap.filter(e => e.stone === 0).length\n  const E = displayMap.filter(e => e.stone === 1).length\n  const count = { P, E }\n  return count\n}\n\nconst Reversi = props => {\n  console.log(\"render-Reversi\")\n  const initRef = useRef()\n  const width = CN\n  const borderSize = props.size / width / 100 * 5\n  const size = props.size - (borderSize * 2)\n  const cellSize = size / width - (borderSize * 2)\n  const cellMap = cellMapFunc(width)\n  const [displayMap, setDisplayMap] = useState(cellMap)\n  const [myturn, setMyturn] = useState(true)\n  const [skipFlag, setSkipFlag] = useState(\"\")\n  const [count, setCount] = useState({ P: 2, E: 2 })\n  const [end, setEnd] = useState(false)\n  const [restart, setRestart] = useState(0)\n\n  useEffect(() => {\n    console.log(\"initRef\")\n  }, [initRef])\n\n  useEffect(() => {\n    console.log(\"useEfect myturn\")\n    const nextMap = getAddNextMap(displayMap, myturn)\n    setDisplayMap(nextMap)\n    const count = getCount(nextMap)\n    setCount(count)\n    let flag = nextMap.findIndex(e => e.next === true) === -1\n    let flagTxt = myturn ? \"P\" : \"E\"\n    if (flag) setSkipFlag(skipFlag + flagTxt)\n\n    if (!myturn && !flag) {\n      let acts = nextMap.filter(e => e.next === true)\n      let actData = acts[0]\n      const newMap = reversFunc(myturn, directionMap, nextMap, actData)\n      setDisplayMap(newMap)\n      setMyturn(true)\n    }\n    // ↓lintを部分的に無効にするコメント\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [myturn, restart])\n\n  useEffect(() => {\n    console.log(\"useEffect skip\")\n    if (skipFlag === \"\") return\n    if ((count.P === 0 || count.E === 0) || count.P + count.E === CN ** 2) {\n      setEnd(true)\n      return\n    }\n    setMyturn(!myturn)\n    // ↓lintを部分的に無効にするコメント\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [skipFlag])\n\n  useEffect(() => {\n    if (!end) return\n    console.log(\"game set!!\")\n  }, [end])\n\n  useEffect(() => {\n    if (restart === 0) return\n    console.log(\"useEffect restart\")\n    setDisplayMap(cellMap)\n    setMyturn(true)\n    setSkipFlag(\"\")\n    setCount({ P: 2, E: 2 })\n    setEnd(false)\n    setRestart(0)\n    // ↓lintを部分的に無効にするコメント\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [restart])\n\n  let Cells = []\n  for (const [i, p] of displayMap.entries()) {\n    const data = p\n    const item = (\n      <Cell\n        key={`cell_${i}`}\n        size={cellSize}\n        borderSize={borderSize}\n        data={data}\n        myturn={myturn}\n        setMyturn={setMyturn}\n        displayMap={displayMap}\n        setDisplayMap={setDisplayMap}\n      />)\n    Cells.push(item)\n  }\n\n  const container = css({\n    display: \"inline-block\",\n  })\n\n  const countBoxContainer = css({\n    textAlign: \"center\",\n  })\n\n\n  return (\n    <div {...container}>\n      <div {...countBoxContainer}>\n        <CountBox side=\"P\" count={count.P} borderSize={borderSize} />\n        <CountBox side=\"E\" count={count.E} borderSize={borderSize} />\n      </div>\n      <Layout size={size} borderSize={borderSize}>\n        {skipFlag && !end && <SkipMessage skipFlag={skipFlag} />}\n        {end && <EndMessage count={count} />}\n        {Cells}\n      </Layout>\n      <div {...countBoxContainer}>\n        <MyButton borderSize={borderSize} func={setRestart} val={restart} />\n      </div>\n    </div>\n  )\n}\n\nexport default Reversi","import React from 'react';\n\nimport Reversi from \"./reversi\"\n\nfunction App() {\n  return (\n    <>\n      <Reversi size={500} />\n    </>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}